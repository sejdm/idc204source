---
title: Pumping lemma for context free grammars
---

This context free grammar can generate the string $acegfdb$:

$$A \to aBb$$
$$B \to cCd \ |\ g$$
$$C \to eBf$$


In the following derivation, $B$ that generates a sub-string,  $ceBfd$, which also contains $B$. This second $B$ is used to generate the final terminals, which in this case is just $g$.

$$A \Longrightarrow a\mathbf{B}b \Longrightarrow acCdb \Longrightarrow a\mathbf{ceBfd}b \Longrightarrow acegfdb$$

Before leading to the terminals, we could repeat the generation of $ceBfd$ as many times as we wish:

$$A \Longrightarrow aBb \Longrightarrow acCdb \Longrightarrow aceBfdb \Longrightarrow a(ce)^2B(fd)^2b \ldots \Longrightarrow a(ce)^nB(fd)^nb$$ 

before finally using $B$ to lead to the terminal

$$\Longrightarrow a(ce)^ng(fd)^nb$$

So $a(ce)^2g(fd)^2b$, $a(ce)^3g(fd)^3b$, etc are also in our language:

In fact, we could have skipped the steps shown in bold

$$A \Longrightarrow aBb \mathbf{\Longrightarrow acCdb \Longrightarrow aceBfdb \Longrightarrow acegfdb}$$

and directly proceeded to


$$A \Longrightarrow a\mathbf{B}b \Longrightarrow agb$$


It is now easy to generalize these observations: 

If a string $s$ is generated in a series of steps that look like this:

$$S\ldots  \Longrightarrow\ldots  x_1 R x_2 \ldots \Longrightarrow \ldots x_1 \mathbf{y_1Ry_2} x_2 \ldots \Longrightarrow \ldots  x_1 y_1\mathbf{z}y_2 x_2=s$$

and where both the substrings highlighted in bold are generated by the previous $R$, then $s$ can be realized as a concatenation of 5 substrings as $s = x_1 y_1zy_2 x_2$, so that the first $R$ is responsible for $y_1zy_2$ within which the second $R$ is responsible for the substring, $z$. In that case, the language must also contain the strings $x_1 y_1^nzy_2^n x_2$ for each $n=0, 1, \ldots$

The above observation is very useful when combined with the following one:
Given any context free grammar, any derivation of a  "long enough" string would have to involve a variable $R$ as discussed above.



